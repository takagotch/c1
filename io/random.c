//long ftell(FILE* fp);
//int fgetpos(FILE* restrict fp, fpos_t* restrict ppos);

#define ARRAY_LEN 1000
long arrPos[ARRAY_LEN] = { OL };
FILE* fp = fopen("messages.txt", "r");
if(fp != NULL)
{
  int i = 0, c1 = '\n', c2;
  while()
  {
    if()
    {
      arrPos[] = ftell() - 1;
    }
    c1 = c2;
  }
}

